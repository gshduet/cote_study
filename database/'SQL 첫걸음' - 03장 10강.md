# 3장. 정렬과 연산
## 10강 - 복수의 열을 지정해 정렬하기

데이터가 많을 경우 하나의 열만으로 행을 특정짓기 어려울 때가 많다. 상품코드와 해당 상품의 하위번호까지 고려했을 때 하나의 행을 특정지을 수 있는 명세서 등이 대표적이 예이다. 이런 경우 복수의 열을 지정해 정렬하면 편리하다.

### 1. 복수 열로 정렬 지정

ORDER BY로 행을 정렬하는 경우 같은 값을 가진 행의 순서는 일정하지 않으며 데이터베이스 서버의 당시 상황에 따라 달리 반환된다. 따라서 언제나 같은 순서로 결과를 얻고 싶다면 반드시 ORDER BY로 순서를 지정해야 한다.

![](https://images.velog.io/images/gshduet/post/294088b6-c838-4f40-9f9b-797525e005fe/image.png)

sample32 테이블의 a열, b열 모두 INTEGER형이고 b열은 a열의 하위 번호이다. 

![](https://images.velog.io/images/gshduet/post/c48e6bd3-ec50-486f-88ad-894469fd6538/image.png)

a열을 기준으로 정렬할 경우 a열은 제대로 '1, 2'의 순서대로 정렬되었지만 b열은 정렬의 순서가 일정하지 않다.

#### - ORDER BY로 복수 열 지정하기

ORDER BY 구에는 복수로 열을 지정할 수 있다. SELECT 구에서 열을 지정한 것처럼 콤마(,)로 열명을 구분해 지정하면 된다.

`SELECT 열명 FROM 테이블명 ORDER BY 열명1, 열명2 ∙∙∙`

복수의 열을 지정하면 지정한 열명의 순서를 따라 지정되며 이때 값이 같아 순서를 결정할 수 없는 경우 다음으로 지정한 열명을 기준으로 정렬된다.

![](https://images.velog.io/images/gshduet/post/2da3d30a-1781-417d-890e-e274c22649fe/image.png)

a열, b열 모두 오름차순으로 정렬되었다.

![](https://images.velog.io/images/gshduet/post/3375e58d-3344-4f23-b497-274a1d19257b/image.png)

a열과 b열의 순서를 바꾸었을 때 b열에서 값의 크기대로 정렬되고, 같은 값인 부분은 a열을 기준으로 정렬된 것을 알 수 있다.

### 2. 정렬방법 지정하기

복수 열을 지정한 경우에도 각 열에 대해 개별적으로 오름차순∙내림차순 정렬을 설정할 수 있다.

`SELECT 열명 FROM 테이블명 ORDER BY 열명1 [ASC/DESC], 열명2 [ASC/DESC]` 
([] 기호는 생략 가능)

![](https://images.velog.io/images/gshduet/post/c47adb69-1300-4254-9411-9f755ae3ab2a/image.png)

a열은 오름차순, b열은 내림차순으로 저렬되었다.

앞에서 설명했듯 복수 열을 지정하는 경우 정렬방법을 생략하면 기본적으로 오름차순으로 정렬되지만 데이터베이스 제품에 따라 기본값이 변경됐을 수도 있으므로 주의해야 한다. **문장의 가독성을 높이기 위해서라도 가능한 정렬방법을 생략하지 말도록 하자.**

### 3. NULL 값의 정렬순서

NULL 값이 저장된 열의 경우 NULL 값의 특성 상 '특정 값보다 큰 값', '특정 값보다 작은 값' 두 가지 별도의 방법으로 취급한다.

간단히 말하자면 ORDER BY로 지정한 열에서 NULL 값을 가지는 행은 가장 먼저 표시되거나 가장 나중에 표시된다. 이에 대한 대소비교 방법은 표준 SQL에도 규정되어 있지 않아 데이터베이스 제품에 따라 다르다.